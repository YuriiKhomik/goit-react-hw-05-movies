{"version":3,"file":"static/js/170.35240e5d.chunk.js","mappings":"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","sources":["components/Box/Box.jsx","components/MovieDetails/MovieDetails.styled.jsx","components/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nimport {\n  typography,\n  space,\n  layout,\n  border,\n  shadow,\n  flexbox,\n  position,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  typography,\n  space,\n  layout,\n  border,\n  shadow,\n  flexbox,\n  position\n);\n","import styled from 'styled-components';\n\nexport const Title = styled.h1`\n  font-size: 28px;\n`;\n\nexport const SmallTitle = styled.h2`\n  font-size: 18px;\n`;\n","import React, { useEffect, useState, Suspense } from 'react';\nimport { Link, useParams, useLocation, Outlet } from 'react-router-dom';\nimport { Box } from 'components/Box/Box';\nimport { getMovieDetails, getMovieImage } from 'services';\nimport { Title, SmallTitle } from './MovieDetails.styled';\n// import { Cast } from 'components/Cast';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState([]);\n  const [imageUrl, setImageUrl] = useState('');\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n\n  const location = useLocation();\n\n  const { title, name, overview, genres, release_date, vote_average } = movie;\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    const abortController = new AbortController();\n\n    const fetchMovieDetails = async () => {\n      try {\n        const res = await getMovieDetails(id);\n        setMovie(res);\n        const image = await getMovieImage(res.poster_path);\n        setImageUrl(image);\n      } catch (error) {\n        console.log(error);\n        setError(error.response.data.status_message);\n      }\n    };\n    fetchMovieDetails();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const makeGenres = array => {\n    return array.map(item => {\n      return <span key={item.name}>{item.name} </span>;\n    });\n  };\n\n  const makeReleaseDate = date => {\n    return date.slice(0, 4);\n  };\n\n  const makeRating = rating => {\n    return Math.round(rating * 10);\n  };\n\n  return (\n    <Box pl=\"40px\" pr=\"40px\" pt=\"20px\">\n      {movie.length !== 0 && (\n        <>\n          <Link to={location.state?.from ?? '/'}>Go back</Link>\n          <Box display=\"flex\" mb=\"20px\" mt=\"20px\">\n            <Box>\n              <img src={imageUrl} alt=\"movie title\" />\n            </Box>\n            <Box pl=\"20px\">\n              <Title>\n                {title || name} ({makeReleaseDate(release_date)})\n              </Title>\n              <p>User Score: {makeRating(vote_average)}%</p>\n              <SmallTitle>Overview</SmallTitle>\n              <p>{overview}</p>\n              <SmallTitle>Genres</SmallTitle>\n              <p>{makeGenres(genres)}</p>\n            </Box>\n          </Box>\n          <Box borderTop=\"1px solid black\" borderBottom=\"1px solid black\">\n            <p>Additional information</p>\n            <ul>\n              <li>\n                <Link to={`cast`} state={{ ...location.state }}>\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link to={'reviews'} state={{ ...location.state }}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </Box>\n        </>\n      )}\n\n      {error && (\n        <>\n          <Link to={location.state.from}>Go back</Link>\n          <h1>Ooops...smth went wrong:(</h1> <p>{error}</p>\n        </>\n      )}\n\n      <Suspense fallback={<div>Loading additional information...</div>}>\n        <Outlet />\n      </Suspense>\n    </Box>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport notFoundImage from '../images/notFoundImage.jpg';\n\nconst API_KEY = '4a77cd59efaf1d55812c775cbc766c97';\n\nconst ENDPOINTS = {\n  trending: 'https://api.themoviedb.org/3/trending/all/day',\n  search: 'https://api.themoviedb.org/3/search/movie',\n  details: 'https://api.themoviedb.org/3/movie',\n  configuration: 'https://api.themoviedb.org/3/configuration',\n};\n\nexport const getMovieImage = async posterPath => {\n  const { configuration } = ENDPOINTS;\n  axios.defaults.baseURL = `${configuration}?api_key=${API_KEY}`;\n  const response = await axios.get();\n  const { base_url, poster_sizes } = response.data.images;\n  if (!posterPath) {\n    return notFoundImage;\n  }\n  return `${base_url}${poster_sizes[2]}/${posterPath}`;\n};\n\n// getMovieImage().then(console.log);\n\nexport const getActorImage = posterPath => {\n  // const { configuration } = ENDPOINTS;\n  // axios.defaults.baseURL = `${configuration}?api_key=${API_KEY}`;\n  // const response = await axios.get();\n  // const { base_url, profile_sizes } = response.data.images;\n  if (!posterPath) {\n    return notFoundImage;\n  }\n  return `https://image.tmdb.org/t/p/w185/${posterPath}`;\n};\n\n// getActorImage('/bXe9Z7QHCx7wksNX9Qg9bm4kDAr.jpg').then(console.log);\n\nexport const getTrendingMovies = async () => {\n  const { trending } = ENDPOINTS;\n  axios.defaults.baseURL = `${trending}?api_key=${API_KEY}`;\n  const response = await axios.get();\n  return response.data.results;\n};\n\n// getTrendingMovies().then(console.log);\n\nexport const searchMovies = async searchQuery => {\n  const { search } = ENDPOINTS;\n  axios.defaults.baseURL = `${search}?api_key=${API_KEY}&query=${searchQuery}&page=1&include_adult=false`;\n  const response = await axios.get();\n  return response.data.results;\n};\n\n// searchMovies('animals').then(console.log);\n\nexport const getMovieDetails = async movieId => {\n  const { details } = ENDPOINTS;\n  axios.defaults.baseURL = `${details}/${movieId}?api_key=${API_KEY}`;\n  const response = await axios.get();\n  return response.data;\n};\n\n// getMovieDetails(25713).then(console.log);\n\nexport const getMovieCredits = async movieId => {\n  const { details } = ENDPOINTS;\n  axios.defaults.baseURL = `${details}/${movieId}/credits?api_key=${API_KEY}`;\n  const response = await axios.get();\n  return response.data.cast;\n};\n\n// getMovieCredits(25713).then(console.log);\n\nexport const getMovieReviews = async movieId => {\n  const { details } = ENDPOINTS;\n  axios.defaults.baseURL = `${details}/${movieId}/reviews?api_key=${API_KEY}&page=1`;\n  const response = await axios.get();\n  return response.data.results;\n};\n\n// getMovieReviews(881164).then(console.log);\n"],"names":["Box","styled","typography","space","layout","border","shadow","flexbox","position","Title","SmallTitle","useState","movie","setMovie","imageUrl","setImageUrl","error","setError","id","useParams","location","useLocation","title","name","overview","genres","release_date","vote_average","useEffect","abortController","AbortController","fetchMovieDetails","getMovieDetails","res","getMovieImage","poster_path","image","console","log","response","data","status_message","abort","array","rating","date","pl","pr","pt","length","to","state","from","display","mb","mt","src","alt","slice","Math","round","map","item","borderTop","borderBottom","Suspense","fallback","API_KEY","ENDPOINTS","posterPath","configuration","axios","images","base_url","poster_sizes","notFoundImage","getActorImage","getTrendingMovies","trending","results","searchMovies","searchQuery","search","movieId","details","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}